--
-- PostgreSQL database cluster dump
--

-- Started on 2015-10-21 20:53:26 BRST

SET default_transaction_read_only = off;

SET client_encoding = 'LATIN1';
SET standard_conforming_strings = on;

--
-- Roles
--

CREATE ROLE gabriel;
ALTER ROLE gabriel WITH SUPERUSER INHERIT CREATEROLE CREATEDB LOGIN REPLICATION PASSWORD 'md5eb7c973e5c90fcb1be410d00c4eb90e7' VALID UNTIL 'infinity';
CREATE ROLE postgres;
ALTER ROLE postgres WITH SUPERUSER INHERIT CREATEROLE CREATEDB LOGIN REPLICATION;
CREATE ROLE zope;
ALTER ROLE zope WITH NOSUPERUSER INHERIT NOCREATEROLE CREATEDB LOGIN NOREPLICATION PASSWORD 'md53fae44936f3bbfe0d06821dc07f0c090' VALID UNTIL 'infinity';






--
-- Database creation
--

CREATE DATABASE agenda WITH TEMPLATE = template0 OWNER = postgres;
REVOKE ALL ON DATABASE template1 FROM PUBLIC;
REVOKE ALL ON DATABASE template1 FROM postgres;
GRANT ALL ON DATABASE template1 TO postgres;
GRANT CONNECT ON DATABASE template1 TO PUBLIC;


\connect agenda

SET default_transaction_read_only = off;

--
-- PostgreSQL database dump
--

-- Dumped from database version 9.4.4
-- Dumped by pg_dump version 9.4.4
-- Started on 2015-10-21 20:53:26 BRST

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'LATIN1';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 178 (class 3079 OID 12444)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2615 (class 0 OID 0)
-- Dependencies: 178
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

--
-- TOC entry 176 (class 1259 OID 16419)
-- Name: id_lista_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE id_lista_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2900000
    CACHE 1;


ALTER TABLE id_lista_seq OWNER TO postgres;

--
-- TOC entry 172 (class 1259 OID 16393)
-- Name: id_usuario_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE id_usuario_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 29000000
    CACHE 1;


ALTER TABLE id_usuario_seq OWNER TO postgres;

SET default_tablespace = '';

SET default_with_oids = false;

--
-- TOC entry 177 (class 1259 OID 16421)
-- Name: listas; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE listas (
    id_lista integer DEFAULT nextval('id_lista_seq'::regclass) NOT NULL,
    id_usuario integer NOT NULL,
    titulo character varying(200) NOT NULL,
    data_insercao timestamp without time zone DEFAULT now()
);


ALTER TABLE listas OWNER TO postgres;

--
-- TOC entry 175 (class 1259 OID 16416)
-- Name: tipo_usuario_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE tipo_usuario_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 2900000
    CACHE 1;


ALTER TABLE tipo_usuario_seq OWNER TO postgres;

--
-- TOC entry 174 (class 1259 OID 16405)
-- Name: tipo_usuarios; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE tipo_usuarios (
    id_tipo_usuario integer DEFAULT nextval('tipo_usuario_seq'::regclass) NOT NULL,
    descricao character varying(100)
);


ALTER TABLE tipo_usuarios OWNER TO postgres;

--
-- TOC entry 173 (class 1259 OID 16398)
-- Name: usuarios; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE usuarios (
    id_usuario integer DEFAULT nextval('id_usuario_seq'::regclass) NOT NULL,
    email character varying(100) NOT NULL,
    senha character varying(40) NOT NULL,
    id_tipo_usuario smallint NOT NULL,
    data_insercao timestamp without time zone DEFAULT now()
);


ALTER TABLE usuarios OWNER TO postgres;

--
-- TOC entry 2619 (class 0 OID 0)
-- Dependencies: 176
-- Name: id_lista_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('id_lista_seq', 1, false);


--
-- TOC entry 2620 (class 0 OID 0)
-- Dependencies: 172
-- Name: id_usuario_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('id_usuario_seq', 4, true);


--
-- TOC entry 2607 (class 0 OID 16421)
-- Dependencies: 177
-- Data for Name: listas; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY listas (id_lista, id_usuario, titulo, data_insercao) FROM stdin;
\.


--
-- TOC entry 2621 (class 0 OID 0)
-- Dependencies: 175
-- Name: tipo_usuario_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('tipo_usuario_seq', 3, true);


--
-- TOC entry 2604 (class 0 OID 16405)
-- Dependencies: 174
-- Data for Name: tipo_usuarios; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY tipo_usuarios (id_tipo_usuario, descricao) FROM stdin;
1	Administrador
2	Grupo
3	Comum
\.


--
-- TOC entry 2603 (class 0 OID 16398)
-- Dependencies: 173
-- Data for Name: usuarios; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY usuarios (id_usuario, email, senha, id_tipo_usuario, data_insercao) FROM stdin;
1	gabrielgisoldi@gmail.com	1e536bdb71098aa3e6fed796efcd890ac746cb6b	1	2015-10-21 19:35:19.466601
2	rafael.zulli0@gmail.com	601f1889667efaebb33b8c12572835da3f027f78	1	2015-10-21 19:44:14.191386
3	gabrielgisoldi@hotmail.com	7c4a8d09ca3762af61e59520943dc26494f8941b	3	2015-10-21 19:47:33.959356
4	developers@agenda.com	f7c3bc1d808e04732adf679965ccc34ca7ae3441	2	2015-10-21 19:48:48.718167
\.


--
-- TOC entry 2490 (class 2606 OID 16427)
-- Name: listas_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY listas
    ADD CONSTRAINT listas_pkey PRIMARY KEY (id_lista);


--
-- TOC entry 2488 (class 2606 OID 16410)
-- Name: tipo_usuarios_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY tipo_usuarios
    ADD CONSTRAINT tipo_usuarios_pkey PRIMARY KEY (id_tipo_usuario);


--
-- TOC entry 2486 (class 2606 OID 16404)
-- Name: usuarios_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY usuarios
    ADD CONSTRAINT usuarios_pkey PRIMARY KEY (id_usuario);


--
-- TOC entry 2492 (class 2606 OID 16428)
-- Name: id_usuario_fk; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY listas
    ADD CONSTRAINT id_usuario_fk FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario);


--
-- TOC entry 2491 (class 2606 OID 16411)
-- Name: tipo_usuario; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY usuarios
    ADD CONSTRAINT tipo_usuario FOREIGN KEY (id_tipo_usuario) REFERENCES tipo_usuarios(id_tipo_usuario);


--
-- TOC entry 2614 (class 0 OID 0)
-- Dependencies: 5
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- TOC entry 2616 (class 0 OID 0)
-- Dependencies: 177
-- Name: listas; Type: ACL; Schema: public; Owner: postgres
--

REVOKE ALL ON TABLE listas FROM PUBLIC;
REVOKE ALL ON TABLE listas FROM postgres;
GRANT ALL ON TABLE listas TO postgres;
GRANT ALL ON TABLE listas TO gabriel;
GRANT ALL ON TABLE listas TO zope;


--
-- TOC entry 2617 (class 0 OID 0)
-- Dependencies: 174
-- Name: tipo_usuarios; Type: ACL; Schema: public; Owner: postgres
--

REVOKE ALL ON TABLE tipo_usuarios FROM PUBLIC;
REVOKE ALL ON TABLE tipo_usuarios FROM postgres;
GRANT ALL ON TABLE tipo_usuarios TO postgres;
GRANT ALL ON TABLE tipo_usuarios TO gabriel;
GRANT ALL ON TABLE tipo_usuarios TO zope;


--
-- TOC entry 2618 (class 0 OID 0)
-- Dependencies: 173
-- Name: usuarios; Type: ACL; Schema: public; Owner: postgres
--

REVOKE ALL ON TABLE usuarios FROM PUBLIC;
REVOKE ALL ON TABLE usuarios FROM postgres;
GRANT ALL ON TABLE usuarios TO postgres;
GRANT ALL ON TABLE usuarios TO gabriel;
GRANT ALL ON TABLE usuarios TO zope;


-- Completed on 2015-10-21 20:53:27 BRST

--
-- PostgreSQL database dump complete
--

\connect postgres

SET default_transaction_read_only = off;

--
-- PostgreSQL database dump
--

-- Dumped from database version 9.4.4
-- Dumped by pg_dump version 9.4.4
-- Started on 2015-10-21 20:53:27 BRST

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'LATIN1';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 2576 (class 1262 OID 12724)
-- Dependencies: 2575
-- Name: postgres; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON DATABASE postgres IS 'default administrative connection database';


--
-- TOC entry 172 (class 3079 OID 12444)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2579 (class 0 OID 0)
-- Dependencies: 172
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


--
-- TOC entry 2578 (class 0 OID 0)
-- Dependencies: 5
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2015-10-21 20:53:27 BRST

--
-- PostgreSQL database dump complete
--

\connect template1

SET default_transaction_read_only = off;

--
-- PostgreSQL database dump
--

-- Dumped from database version 9.4.4
-- Dumped by pg_dump version 9.4.4
-- Started on 2015-10-21 20:53:27 BRST

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'LATIN1';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 2576 (class 1262 OID 1)
-- Dependencies: 2575
-- Name: template1; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON DATABASE template1 IS 'default template for new databases';


--
-- TOC entry 172 (class 3079 OID 12444)
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- TOC entry 2579 (class 0 OID 0)
-- Dependencies: 172
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


--
-- TOC entry 2578 (class 0 OID 0)
-- Dependencies: 5
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2015-10-21 20:53:27 BRST

--
-- PostgreSQL database dump complete
--

-- Completed on 2015-10-21 20:53:27 BRST

--
-- PostgreSQL database cluster dump complete
--

